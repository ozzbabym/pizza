(this["webpackJsonpinternet-shop"]=this["webpackJsonpinternet-shop"]||[]).push([[0],{43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){"use strict";c.r(t);var i=c(1),n=c(17),a=c.n(n),s=(c(43),c(44),c(45),c.p+"static/media/pizza.d6b7c795.png"),r=c(11),j=c(0);var l=function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"header",children:[Object(j.jsxs)("div",{className:"label",children:[Object(j.jsx)(r.b,{to:"/",children:Object(j.jsx)("img",{src:s,alt:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"})}),Object(j.jsx)("div",{children:Object(j.jsx)("span",{children:Object(j.jsx)("b",{children:"Pizza"})})})]}),Object(j.jsx)(r.b,{to:"/basket",children:Object(j.jsxs)("div",{className:"basket",children:[Object(j.jsx)("div",{children:0!==e.total.totalPizzas&&Object(j.jsxs)("b",{children:[e.total.totalPizzas," \u20bd"]})}),Object(j.jsx)("div",{style:{width:50,height:50},children:Object(j.jsx)("div",{className:"basketImg",children:0!==e.total.totalPizzasCount&&Object(j.jsx)("div",{children:e.total.totalPizzasCount})})})]})})]})})},d=c(4),b=c(3),o=c(16),O=c(35),u=c.n(O),h=c(10),x=c(38),z={pizzas:[],basket:[],totalCount:0,totalPizza:0};c(70);var m=function(e){return Object(j.jsx)("div",{className:"button ".concat(e.choice?"buttonChoice":""),onClick:e.click,children:e.children})},p=(c(71),[0,50,100]),v=[0,50];var f=function(e){var t=e.modal,c=e.pizza,n=e.imageUrl,a=e.namePizza,s=e.description,r=e.type,l=e.size,d=e.price,O=Object(i.useState)(0),u=Object(o.a)(O,2),x=u[0],z=u[1],f=Object(i.useState)(0),N=Object(o.a)(f,2),k=N[0],g=N[1],C=Object(h.b)();return Object(j.jsx)("div",{className:"cartContainer",children:Object(j.jsxs)("div",{className:"cart",children:[Object(j.jsx)("img",{src:n,alt:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"}),Object(j.jsx)("div",{className:"name-pizza",children:Object(j.jsx)("h3",{children:a})}),Object(j.jsx)("div",{className:"descriptionpizza",children:s}),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"change-container",children:[Object(j.jsx)("div",{className:"change-size",children:l.map((function(e,t){return Object(j.jsxs)("div",{className:x===t?"activeSize":"",onClick:function(){return z(t)},children:[e," \u0441\u043c"]},e)}))}),Object(j.jsx)("div",{className:"change-dough",children:r.map((function(e,t){return Object(j.jsx)("div",{className:k===t?"activeSize":"",onClick:function(){return g(t)},children:0===e?"\u0442\u043e\u043d\u043a\u043e\u0435":"\u0442\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u043e\u0435"},e)}))})]}),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"priceAndButton",children:[Object(j.jsx)("div",{children:Object(j.jsxs)("b",{children:["\u043e\u0442 ",d+p[x]+v[k]," \u20bd"]})}),Object(j.jsx)("div",{children:Object(j.jsx)(m,{click:function(){t(),C({type:"SET_BASKET",trade:Object(b.a)(Object(b.a)({},c),{},{size:l[x],type:k,price:d+p[x]+v[k]})})},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})]})})},N=(c(72),c(20)),k=c.n(N),g=["\u0432\u0441\u0435","\u041e\u0441\u0442\u0440\u044b\u0435","\u041c\u044f\u0441\u043d\u044b\u0435","\u0412\u0435\u0433\u0435\u0442\u0430\u0440\u0438\u0430\u043d\u0441\u043a\u0438\u0435"];var C=function(){k()("#modal").fadeOut(0);var e=Object(h.b)(),t=Object(i.useState)(0),c=Object(o.a)(t,2),n=c[0],a=c[1],s=Object(h.c)((function(e){return e.pizzasReducer.pizzas})),r=0===n?s:s.filter((function(e){return e.typePizza===n}));Object(i.useEffect)((function(){u.a.get("http://localhost:3000/db.json").then((function(t){return e(function(e){return{type:"GET_PIZZAS",pizzas:e}}(t.data.pizza))}))}),[]);var l=function(){k()("#modal").fadeIn(100),k()("#modal").fadeOut(300)};return Object(j.jsxs)("div",{className:"container-pizza",children:[Object(j.jsx)("div",{className:"pizza-navigation",children:g.map((function(e,t){return Object(j.jsx)(m,{choice:t===n,click:function(){return function(e){a(e)}(t)},children:e},t)}))}),Object(j.jsx)("div",{className:"cart-container",children:r&&r.map((function(e){return Object(j.jsx)(f,Object(b.a)(Object(b.a)({},e),{},{pizza:e,modal:l}),e.id)}))}),Object(j.jsx)("div",{id:"modal",className:"modalAddShow",children:Object(j.jsx)("div",{children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e"})})]})};c(73);var P=function(e){return Object(j.jsx)("div",{onClick:e.click,className:"buttonCounter",children:e.children})};c(74);var y=function(e){return Object(j.jsx)("div",{onClick:e.click,className:"buttonDel",children:e.children})},A=(c(75),c.p+"static/media/trash.5051a63d.png"),E=c.p+"static/media/basketShop.51847e0a.png";var S=function(e){var t=Object(h.b)();return Object(j.jsx)(j.Fragment,{children:0===e.total.totalPizzasCount?Object(j.jsxs)("div",{className:"basketHomeContainer",children:[Object(j.jsx)("div",{className:"basketHome",children:Object(j.jsx)("img",{src:E,alt:""})}),Object(j.jsx)("div",{className:"titleEmptyBasket",children:Object(j.jsx)("h1",{children:"\u0412\u0430\u0448\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430!"})}),Object(j.jsx)("div",{className:"footerMob",children:Object(j.jsx)("div",{children:Object(j.jsx)(r.b,{to:"/",children:Object(j.jsx)(m,{children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434"})})})})]}):e.total.totalPizzasCount>0&&Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"trashbox",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{src:A,onClick:function(){window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u043e\u0440\u0437\u0438\u043d\u0443?")&&t({type:"DEL_ALL_BASKET"})},alt:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"}),Object(j.jsx)("div",{children:"\u043e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u043e\u0440\u0437\u043e\u043d\u0443"})]})}),Object(j.jsx)("img",{src:"",alt:""}),Object(j.jsxs)("div",{className:"container_basket",children:[e.pizzas.map((function(e,c){return Object(j.jsxs)("div",{className:"block_order",children:[Object(j.jsx)("div",{children:Object(j.jsx)("img",{src:e.imageUrl,alt:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"})}),Object(j.jsxs)("div",{className:"description",children:[Object(j.jsx)("div",{children:Object(j.jsx)("h3",{children:e.namePizza})}),Object(j.jsx)("div",{children:e.description}),Object(j.jsx)("div",{style:{margin:"10px 0px"},children:Object(j.jsxs)("b",{children:[" \u0442\u0435\u0441\u0442\u043e  ",0===e.type?"\u0442\u043e\u043d\u043a\u043e\u0435":"\u0442\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u043e\u0435"]})}),Object(j.jsx)("div",{children:Object(j.jsxs)("b",{children:[e.size," \u0441\u043c"]})})]}),Object(j.jsxs)("div",{className:"counter",children:[Object(j.jsx)(P,{click:function(){t({type:"DEL_COUNT",item:e})},children:"-"}),Object(j.jsx)("h4",{children:Object(j.jsx)("b",{children:e.count})}),Object(j.jsx)(P,{click:function(){t({type:"ADD_COUNT",item:e})},children:"+"})]}),Object(j.jsx)("div",{className:"total",children:Object(j.jsxs)("b",{children:[" \u0418\u0442\u043e\u0433\u043e ",e.price," \u20bd "]})}),Object(j.jsx)("div",{className:"delItem",children:Object(j.jsx)(y,{click:function(){return c=e,void(window.confirm("\u0412\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0438\u0446\u0446\u0443?")&&t({type:"DEL_PIZZA",item:c}));var c},children:"x"})})]},c)})),Object(j.jsxs)("div",{className:"footer",children:[Object(j.jsx)("div",{children:Object(j.jsx)(r.b,{to:"/",children:Object(j.jsx)(m,{children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434"})})}),Object(j.jsx)("div",{className:"alltotalprice",children:Object(j.jsxs)("h2",{children:["\u0418\u0442\u043e\u0433\u043e: ",e.total.totalPizzas," \u20bd"]})}),Object(j.jsx)("div",{children:Object(j.jsx)(m,{click:function(){return t=e.pizzas,void console.log(t);var t},children:"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c"})})]})]})]})})};var _=function(){var e=Object(h.c)((function(e){return e.pizzasReducer.basket})).map((function(e){return JSON.stringify(e)})),t=(e=(e=e.filter((function(t,c){return e.indexOf(t)===c}))).map((function(e){return JSON.parse(e)}))).map((function(e){return e.count})).reduce((function(e,t){return e+t}),0),c=e.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0);return Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsx)(l,{total:{totalPizzasCount:t,totalPizzas:c}}),Object(j.jsx)(d.a,{path:"/basket",render:function(){return Object(j.jsx)(S,{pizzas:e,total:{totalPizzasCount:t,totalPizzas:c}})},exact:!0}),Object(j.jsx)("div",{children:Object(j.jsx)(d.a,{path:"/",render:function(){return Object(j.jsx)(C,{})},exact:!0})})]})})},T=c(13),L=c(37),D=Object(T.c)({pizzasReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PIZZAS":return Object(b.a)(Object(b.a)({},e),{},{pizzas:t.pizzas});case"SET_BASKET":return Object(b.a)(Object(b.a)({},e),{},{basket:[].concat(Object(x.a)(e.basket),[t.trade])});case"TOTAL_ALL":return Object(b.a)(Object(b.a)({},e),{},{totalPizza:t.total.totalPizzas,totalCount:t.total.totalPizzasCount});case"ADD_COUNT":var c=e.basket.map((function(c){if(c.id===t.item.id&&c.size===t.item.size){var i=e.pizzas.filter((function(e){return e.id===c.id}));return Object(b.a)(Object(b.a)({},c),{},{count:c.count+1,price:c.price+i[0].price})}return Object(b.a)({},c)}));return Object(b.a)(Object(b.a)({},e),{},{basket:c});case"DEL_COUNT":var i=e.basket.map((function(c){if(c.count>1&&c.id===t.item.id&&c.size===t.item.size){var i=e.pizzas.filter((function(e){return e.id===c.id}));return Object(b.a)(Object(b.a)({},c),{},{count:c.count-1,price:c.price-i[0].price})}return Object(b.a)({},c)}));return Object(b.a)(Object(b.a)({},e),{},{basket:i});case"DEL_PIZZA":return Object(b.a)(Object(b.a)({},e),{},{basket:e.basket.filter((function(e){return!(e.id===t.item.id&&e.size===t.item.size&&e.type===t.item.type)}))});case"DEL_ALL_BASKET":return Object(b.a)(Object(b.a)({},e),{},{basket:[]});default:return e}}}),w=Object(T.d)(D,Object(T.a)(L.a));a.a.render(Object(j.jsx)(h.a,{store:w,children:Object(j.jsx)(r.a,{children:Object(j.jsx)(_,{})})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.191bdff5.chunk.js.map